%{ nbPages = _size.page(_caller.pageSize) }%

#{if nbPages > 1}
<ul class="pagination">
	%{ for (i in 1..nbPages) { }%
	#{if (nbPages <= 5) || (i == 1) || (i == nbPages) || (i % 5 == 0) || (Math.abs(i - _page) <= 2)}
		#{if _page == i}
			<li class="active"><a href="#">${i}</a></li>
		#{/if}
		#{else}
			<li><a href="${request.path}?page=${i}">${i}</a></li>
		#{/else}
	#{/if}
	%{ } }%
</ul>
#{/if}
